<div class="row">
    <div class="col-lg-10">
        <h1><strong>Checks</strong></h1>
    </div>
    <div class="col-lg-2">
        <p></p><p><button id="createNewCheckButton" class="btn btn-success" data-keyboard="true" data-toggle="modal" data-show="true" data-target="#editCheckModal" ng-click="editCheck('new')"><span class="glyphicon glyphicon-check glyphicon-white"></span>&nbsp;Create check</button></p>
    </div>
</div>
<div class="row">
    <br/>
    <!-- new stuff -->
    <div class="col-lg-6">
        <form class="form-inline">
        <div class="form-group">
            <input name="filter" ng-model="filter" type="text" placeholder="Filter..." ng-blur="filterToUrl()" class="form-control input-sm" />
        </div>
        <div class="form-group">
          <button ng-click="addFilter()" class="btn btn-default saved-filters-toggle" type="button" id="saveFiltersButton">
              Save filters
          </button>
        </div>
        <div class="form-group">
            <button ng-click="toggleSavedFiltersPanel()" class="btn btn-warning" type="button" id="savedFiltersButton">
                Saved filters
                <span class="caret"></span>
            </button>
            <div class="panel panel-default" id="panel-saved-filters">
              <div class="panel-heading">
                <h3 class="panel-title">
                  <input name="savedFilterSearch" ng-model="filterSearch" type="text" placeholder="Filter..." class="form-control input-sm" />
                </h3>
              </div>
              <div class="panel-body">
                <ul class="nav nav-pills nav-stacked">
                  <li ng-repeat="savedFilter in savedFilters.values | filter:filterSearch">
                    <a href="#" ng-click="searchByFilter(savedFilter.filter, $event)">
                      {{ savedFilter.name }}
                      <button class="btn btn-danger btn-xs" style="float: right" ng-click="deleteFilter(savedFilter, $event)">&#x274C;</button>
                      <div style="clear:both;"></div>
                    </a>
                  </li>
                </ul>
                <p ng-hide="savedFilters.values.length > 0">We've got no filters. Why not create one?</p>
              </div>
            </div>
        </div>
        </form>
    </div>
    <!-- /new stuff -->
</div>
<div class="row">
    <div class="col-lg-12">
        <table class="table table-bordered table-striped table-hover" ng-show="checks.values.length > 0" ng-init="predicate=sortByState;reverse=true">
            <thead>
                <tr>
                    <th><a href="" ng-click="predicate='name';reverse=!reverse">Name</a></th>
                    <th><a href="" ng-click="predicate=sortByState;reverse=!reverse">State</a></th>
                    <th><a href="" ng-click="predicate='warn';reverse=!reverse">Warn</a></th>
                    <th><a href="" ng-click="predicate='error';reverse=!reverse">Error</a></th>
                    <th><a href="" ng-click="predicate='enabled';reverse=!reverse">Enabled</a></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="check in checks.values  | filter:filter | orderBy:[predicate,'-name']:reverse" ng-click="selectCheck(check.id, $event)" style="cursor: pointer;">
                    <td title="{{ check.target }}">
                        <a href='#/checks/{{ check.id }}'>{{ check.name }}</a>
                    </td>
                    <td>
                        <span ng-show="check.state == 'UNKNOWN'" class="label label-default">{{ check.state }}</span>
                        <span ng-show="check.state == 'OK'" class="label label-success">{{ check.state }}</span>
                        <span ng-show="check.state == 'WARN'" class="label label-warning">{{ check.state }}</span>
                        <span ng-show="check.state == 'ERROR'" class="label label-danger">{{ check.state }}</span>
                        <span ng-show="check.state == 'EXCEPTION'" class="label label-inverse">{{ check.state }}</span>
                    </td>
                    <td>{{ check.warn }}</td>
                    <td>{{ check.error }}</td>
                    <td><input type="checkbox" ng-checked="check.enabled" ng-click="swapCheckEnabled(check); $event.stopPropagation();" /></td>
                </tr>
            </tbody>
        </table>
        <p ng-hide="checks.values.length > 0">We've got no checks. Why not create one?</p>
    </div>

</div>

<div class="absolute modal" tabindex="-1" role="dialog" ng-include="'./html/modal-partial-check.html'" id="editCheckModal"></div>
<div class="absolute modal" tabindex="-1" role="dialog" ng-include="'./html/modal-partial-add-filter.html'" id="addFilterModal"></div>
